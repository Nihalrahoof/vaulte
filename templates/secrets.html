{% extends "base.html" %}
{% block title %}Secure Data - Vaultly{% endblock %}
{% block content %}
<h1 class="page-title">Secure Data</h1>

<section class="card form">
  <h2 class="card__title">Add Secure Item</h2>
  <form method="post" novalidate>
    <input type="hidden" name="csrf_token" value="{{ csrf_token }}">
    <label>Label
      <input type="text" name="label" required placeholder="e.g., PAN Number" />
    </label>
    <label>Value
      <input type="text" name="value" required placeholder="e.g., ABCDE1234F" />
    </label>
    <button class="btn w-full" type="submit">Save Securely</button>
  </form>
</section>

<section class="card">
  <h2 class="card__title">Your Secure Items</h2>
  <ul class="list">
    {% for sid, label, value in secrets %}
    <li class="list__item">
      <div class="list__meta">
        <div class="list__title">{{ label }}</div>
        <div class="muted">{{ value }}</div>
      </div>
      <div class="list__actions">
        <form method="post" action="{{ url_for('delete_secret', secret_id=sid) }}" onsubmit="return confirm('Delete this secure item?');">
          <input type="hidden" name="csrf_token" value="{{ csrf_token }}">
          <button class="btn btn--sm btn--ghost" type="submit">Delete</button>
        </form>
      </div>
    </li>
    {% else %}
    <li class="list__item muted">No secure items yet.</li>
    {% endfor %}
  </ul>
</section>
{% endblock %}
